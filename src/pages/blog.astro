---
import Layout from '../layouts/Layout.astro';
import Card from '../components/Card.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';

const allPosts = await Astro.glob('../pages/posts/*.md');

import '../styles/global.css';
---

<Layout title="Welcome to Astro.">
	<main>
		<Header />
		<h1 class="text-gradient">My Blog Posts</h1>
		<p class="instructions">
			To get started, open the directory <code>src/pages</code> in your project.<br />
			<strong>Code Challenge:</strong> Tweak the "Welcome to Astro" message above.
		</p>
		<ul role="list" class="link-card-grid">
			{allPosts.map((post) =>
				<Card 
					href={post.url}
					title={post.frontmatter.title}
					body={post.frontmatter.description}
					/>
			)}			
		</ul>
		<Footer />
	</main>
</Layout>